(this.webpackJsonpchessmasters=this.webpackJsonpchessmasters||[]).push([[0],{24:function(e,t,n){e.exports=n(39)},29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),a=n(15),o=n.n(a),r=(n(29),n(14)),l=n(5),c=n(7),h=n(8),u=n(11),d=n(10),m=n(12),p=n(9),v=(n(30),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).enterHandler=n.onEnter.bind(Object(p.a)(n)),n.state={disabled:e.disabled},n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"_down",value:function(e,t){if(!this.state.disabled){var n=e.getBoundingClientRect(),i=t.clientX-n.left,s=t.clientY-n.top,a=Math.max(Math.sqrt(Math.pow(i,2)+Math.pow(s,2)),Math.sqrt(Math.pow(i-n.width,2)+Math.pow(s,2)),Math.sqrt(Math.pow(i,2)+Math.pow(s-n.height,2)),Math.sqrt(Math.pow(i-n.width,2)+Math.pow(s-n.height,2))),o=document.createElement("div");o.className="ripple",o.style.position="absolute",o.style.transition="all 0.25s cubic-bezier(0.215, 0.61, 0.355, 1)",o.style.borderRadius="50%",o.style.opacity="1",o.style.top=s+"px",o.style.left=i+"px",o.style.width=o.style.height="0px",o.id="s"+Date.now(),setTimeout((function(){o.style.opacity="0.75",o.style.top=s-a+"px",o.style.left=i-a+"px",o.style.width=o.style.height=2*a+"px"}),10),e.append(o)}}},{key:"_up",value:function(e,t){var n=e.querySelectorAll(".ripple");if(null!=n)for(var i=function(e){var t=n[e],i=parseInt(t.id.substring(1));Date.now()-i>250?(t.style.opacity="0",setTimeout(t.remove.bind(t),250)):setTimeout((function(){t.style.opacity="0",setTimeout(t.remove.bind(t),250)}),250-(Date.now()-i))},s=0;s<n.length;++s)i(s)}},{key:"componentDidMount",value:function(){var e=o.a.findDOMNode(this);e.style.position="relative",e.style.overflow="hidden",this.down=this._down.bind(this,e),this.up=this._up.bind(this,e),e.addEventListener("mousedown",this.down),document.body.addEventListener("mouseup",this.up)}},{key:"componentWillMount",value:function(){this.props.enter&&window.addEventListener("keyup",this.enterHandler)}},{key:"componentWillUnmount",value:function(){this.props.enter&&window.removeEventListener("keyup",this.enterHandler),document.body.removeEventListener("mouseup",this.up)}},{key:"componentWillReceiveProps",value:function(e){e.disabled!==this.state.disabled&&this.setState({disabled:e.disabled})}},{key:"onEnter",value:function(e){13!==e.keyCode||e.ctrlKey||e.metaKey||"function"!==typeof this.props.onClick||this.props.disabled||this.props.onClick()}},{key:"redirect",value:function(e){this.props.disabled||this.props.history&&this.props.history.push(this.props.to)}},{key:"render",value:function(){var e=this.props.className||"";return this.props.invert&&(e+=" invert"),this.state.disabled&&(e+=" disabled"),s.a.createElement("div",{className:e+" button",id:this.props.id,onClick:function(){this.props.disabled||(this.props.onClick&&this.props.onClick(),this.props.to&&this.redirect(this.props.to))}.bind(this),style:this.props.style},this.props.children)}}]),t}(s.a.Component)),f=Object(l.f)(v),y=Object(l.f)(f),w=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).id=~~(9999*Math.random())+"",n.route=n.props.route,n.state={active:window.location.pathname===n.route},n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){"undefined"===typeof t.all[this.route]&&(t.all[this.route]={}),t.all[this.route][this.id]=this}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof t.all[this.route]&&"undefined"!==typeof t.all[this.route][this.id]&&delete t.all[this.route][this.id]}},{key:"update",value:function(){for(var e in t.all){var n=e===this.props.route;for(var i in t.all[e]){var s=t.all[e][i];n!=s.state.active&&s.setState({active:n})}}}},{key:"render",value:function(){return s.a.createElement(y,{to:this.props.route,onClick:this.update.bind(this),className:this.state.active?"active":""},this.props.children)}}]),t}(s.a.Component);w.all=[];var b=w;function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n,i,s={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var E,M=s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{d:"M439.208,162.493c-42.656-33.504-84.672-66.976-127.168-100.48c-18.432-14.176-27.392-32.192-23.648-55.488 c0.64-5.792-2.592-7.744-8.96-5.792c-14.656,4.48-26.752,12.896-33.76,26.432c-9.6,19.328-24.8,26.432-44,25.792 c-28.704-1.312-46.496,14.208-61.792,36.16c-16.64,23.296-24.8,50.368-31.168,77.472c-7.008,29.056-10.272,58.144-11.424,87.712 c-1.312,22.624-0.64,44.576-1.312,67.072c0,1.312,0,1.984,0,2.624v60h281.632v-45.248c0,0,2.272-19.04-11.808-32.992 c-14.08-13.952-29.024-27.008-29.024-27.008c-7.2-5.888-13.76-12.608-19.424-19.936l-51.936-67.2 c3.232,2.624,6.368,5.12,9.6,7.744c15.968,12.224,33.12,17.376,52.832,12.224c11.424-2.624,22.976-1.312,33.12,5.12 c5.664,3.776,11.936,7.04,18.24,10.304c14.816,7.68,33.056,4.16,43.712-8.64c6.56-7.872,13.12-15.744,19.68-23.488 C450.952,184.989,449.416,170.493,439.208,162.493z"}))),j=s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{d:"M414.312,488.861l-32-64.032c-2.72-5.408-8.256-8.832-14.304-8.832h-256c-6.048,0-11.584,3.424-14.304,8.832l-32,64 c-2.496,4.96-2.208,10.848,0.704,15.552c2.912,4.704,8.064,7.616,13.6,7.616h320c5.536 0,10.688-2.88,13.632-7.584 C416.552,499.709,416.808,493.821,414.312,488.861z"}))),x=function(e){var t=e.svgRef,n=e.title,i=k(e,["svgRef","title"]);return s.a.createElement("svg",g({viewBox:"0 0 511.997 511.997",style:{enableBackground:"new 0 0 511.997 511.997"},xmlSpace:"preserve",ref:t},i),n?s.a.createElement("title",null,n):null,M,j)},P=s.a.forwardRef((function(e,t){return s.a.createElement(x,g({svgRef:t},e))})),O=(n.p,n(36),function(){return s.a.createElement("div",{id:"header"},s.a.createElement("div",{className:"inner"},s.a.createElement("div",{id:"logo"},s.a.createElement(P,null),s.a.createElement("span",null,"ChessMasters")),s.a.createElement("div",{id:"menu"},s.a.createElement(b,{route:"/"},"Home"),s.a.createElement(b,{route:"/how/"},"How it Works"),s.a.createElement(b,{route:"/masters/"},"Our Masters"),s.a.createElement(b,{route:"/pricing/"},"Pricing"))))}),z=n(19),I=n.n(z),N=(n(37),window.THREE),C=(E=window.navigator.userAgent||window.navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(E)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(E.substr(0,4))),T=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).t=0,n.lastTick=Date.now(),n.state={loading:!0},n.status=!1,n.scene=null,n.camera=null,n.renderer=null,n.width=0,n.height=0,n.aspect=0,n.chessPieces=[],n.ref=s.a.createRef(),n.chess=new I.a,n.count=0,n.lastMovement=null,n.models={},n.movement=[],n.onResize=n.resize.bind(Object(p.a)(n)),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"downloadModels",value:function(){var e=this,n=0,i=0;for(var s in t.modelPathes)i++,function(s){(new N.BufferGeometryLoader).load(t.modelPathes[s],(function(t){e.models[s]=t,++n===i&&(e.setState({loading:!1}),e.init())}))}(s)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),this.downloadModels()}},{key:"componentWillUnmount",value:function(){this.status=!1,window.removeEventListener("resize",this.onResize),this.scene&&(this.scene=null),this.camera&&(this.camera=null),this.renderer&&(this.renderer=null)}},{key:"resize",value:function(){var e=this.ref.current;if(null!==e){var t=e.parentElement;if(e.width=this.width=t.clientWidth*window.devicePixelRatio,e.height=this.height=t.clientHeight*window.devicePixelRatio,this.aspect=this.width/this.height,this.camera){var n=this.cameraBounds();this.camera.left=n[0],this.camera.right=n[1],this.camera.top=n[2],this.camera.bottom=n[3],this.camera.updateProjectionMatrix()}this.scene&&this.scene.updateMatrixWorld(),this.renderer&&this.renderer.setSize(this.width,this.height)}}},{key:"cameraBounds",value:function(){return this.aspect>1.5?[2*this.aspect/-2,2*this.aspect/2,1,-1]:[-1.5,1.5,3/this.aspect/2,3/this.aspect/-2]}},{key:"init",value:function(){var e=this,t=this.ref.current;if(null!==t){this.resize(),this.scene=new N.Scene;var n=this.cameraBounds();this.camera=new N.OrthographicCamera(n[0],n[1],n[2],n[3],1,1e3),this.camera.position.x=5,this.camera.position.y=5,this.camera.position.z=-5,this.camera.lookAt(new N.Vector3(0,0,0)),this.scene.add(this.camera),window.scene=this.scene,this.renderer=new N.WebGLRenderer({canvas:t,alpha:!0,antialias:!0}),this.renderer.setSize(this.width,this.height),this.light=new N.DirectionalLight(16777215,1),this.light.name="Light",this.light.position.set(.25,1,-1),this.scene.add(this.light),this.light2=new N.PointLight(16777215,.6,0),this.light2.name="Light 2",this.light2.position.set(5,3,-4),this.scene.add(this.light2),(new N.ObjectLoader).load("models/board.json",(function(t){t.scale.y=.5,t.receiveShadow=!0,e.scene.add(t)})),this.initChess(),setTimeout((function(){e.status=!0,requestAnimationFrame(e.update.bind(e,!0))}),24)}else console.warn("canvas is null! at init()")}},{key:"board",value:function(){var e=this;return this.chess.board().map((function(t){return t.map(e.pieceKey)}))}},{key:"initChess",value:function(){if(this.chess||(this.chess=new I.a),this.chessPieces.length>0)for(var e=0;e<this.chessPieces.length;++e)this.movement.push({key:this.chessPieces[e].key,from:this.chessPieces[e].pos,to:null});else{this.count=0,this.chess.reset();for(var t=this.board(),n=0;n<t.length;++n)for(var i=0;i<t[n].length;++i)if(null!==t[n][i]){var s=this.chessPiece(i,n,t[n][i]);this.chessPieces.push({obj:s,key:t[n][i],pos:[i,n]}),this.scene.add(s),this.movement.push({key:t[n][i],to:[i,n],from:null})}this.lastMovement=this.t}}},{key:"chessPiece",value:function(e,t,n){var i=new N.Group,s=new N.Mesh(this.models[n[1]],new N.MeshStandardMaterial({color:"w"===n[0]?13150607:8263182,transparent:!0,opacity:1,depthWrite:!1}));s.castShadow=!0,s.receiveShadow=!1,s.scale.x=.0625,s.scale.y=.0625,s.scale.z=.0625,"p"==n[1]&&(s.position.x+=.005,s.position.z-=.005),s.position.y=.125,s.rotation.y=("w"===n[0]?.6:1.6)*Math.PI,i.add(s);var a=this.toWorldPos(e,-.08,t);return i.position.set(a.x,a.y,a.z),i}},{key:"pieceKey",value:function(e){return null===e?null:e.color+e.type}},{key:"toWorldPos",value:function(e,t,n){return new N.Vector3(.125*(e-3.5)*2,t,.125*(3.5-n)*2)}},{key:"move",value:function(){for(var e=this,t=function(t){var n=e.movement[t],i=e.chessPieces.findIndex((function(e){return null===e.pos&&null===n.from||null!==n.from&&e.pos[0]===n.from[0]&&e.pos[1]===n.from[1]||null===n.from&&null!==e.pos&&null!==n.to&&e.pos[0]===n.to[0]&&e.pos[1]===n.to[1]}));null===n.to&&i>=0?(e.scene.remove(e.chessPieces[i].obj),e.chessPieces.splice(i,1)):i>=0&&(e.chessPieces[i].pos=n.to)},n=0;n<this.movement.length;++n)t(n);if(this.movement=[],!this.chess.game_over()&&this.count<99999){var i=this.chess.moves(),s=(i[~~(Math.random()*(i.length-1))],this.board());this.chess.move(S(C?1:2,this.chess,this.chess.turn())[1]),this.count++;for(var a=this.board(),o={},r=function(t,n,i){o[n]||(o[n]=[null,null]),o[n][t]=i,null!==o[n][1-t]&&(e.movement.push({key:n,from:o[n][0],to:o[n][1]}),delete o[n])},l=0;l<a.length;++l)for(var c=0;c<a[l].length;++c)a[l][c]!==s[l][c]&&(null!==a[l][c]&&null!==s[l][c]?(this.movement.push({key:s[l][c],from:[c,l],to:null}),r(1,a[l][c],[c,l])):null===a[l][c]?r(0,s[l][c],[c,l]):null===s[l][c]&&r(1,a[l][c],[c,l]));if(Object.keys(o).length>0)for(var h in o)if(null!==o[h][1]||null!==o[h][0]){this.movement.push({key:h,from:o[h][0],to:o[h][1]});var u=o[h][0]||o[h][1],d=this.chessPiece(u[0],u[1],h);this.chessPieces.push({obj:d,key:h,pos:u}),this.scene.add(d)}}else this.initChess();this.lastMovement=this.t}},{key:"set",value:function(e,t){e.position.set(t.x,t.y,t.z)}},{key:"minus",value:function(e,t){return new N.Vector3(e.x-t.x,e.y-t.y,e.z-t.z)}},{key:"normalize",value:function(e){var t=e.distanceTo(new N.Vector3(0,0,0));return new N.Vector3(e.x/t,e.y/t,e.z/t)}},{key:"animate",value:function(e){var t=this;e=this.range(e<.5?8*e*e*e*e:1-8*--e*e*e*e,0,1);for(var n=function(n){var i=t.movement[n],s=t.chessPieces.findIndex((function(e){return null===e.pos&&null===i.from||null!==i.from&&e.pos[0]===i.from[0]&&e.pos[1]===i.from[1]||null===i.from&&null!==e.pos&&null!==i.to&&e.pos[0]===i.to[0]&&e.pos[1]===i.to[1]})),a=t.chessPieces[s].obj;if(null!==i.to&&null!==i.from&&s>=0){var o=t.toWorldPos(i.from[0],-.08,i.from[1]),r=t.toWorldPos(i.to[0],-.08,i.to[1]),l=o.lerp(r,e);l.y=.2*Math.sin(e*Math.PI)-.08,t.set(a,l),a.children[0].material.depthWrite=!0}else if(null===i.to&&s>=0){var c=Math.sin((i.from[0]+i.from[1])/14*Math.PI*2)/2+1,h=t.range(2*e-.5*c,0,1);t.set(a,t.toWorldPos(i.from[0],-.08-.05*h,i.from[1])),a.children[0].material.opacity=1-h,h>.5&&(a.children[0].material.depthWrite=!1)}else if(null===i.from&&s>=0){var u=Math.sin((i.to[0]+i.to[1])/14*Math.PI*2)/2+1,d=t.range(2*e-.5*u,0,1);t.set(a,t.toWorldPos(i.to[0],.05*(1-d)-.08,i.to[1])),a.children[0].material.opacity=d,a.children[0].material.depthWrite=!0}},i=0;i<this.movement.length;++i)n(i)}},{key:"range",value:function(e,t,n){return Math.min(Math.max(e,t),n)}},{key:"update",value:function(e){this.status&&(e&&requestAnimationFrame(this.update.bind(this,!0)),this.t+=this.range(Date.now()-this.lastTick,0,20),this.lastTick=Date.now(),this.t-this.lastMovement>1e3&&this.move(),this.animate((this.t-this.lastMovement)/1e3),this.renderer.render(this.scene,this.camera))}},{key:"render",value:function(){return s.a.createElement("div",{className:"chess-demo"+(this.state.loading?" loading":"")},s.a.createElement("canvas",{ref:this.ref}))}}]),t}(s.a.Component);T.modelPathes={p:"models/pawn.json",n:"models/knight.json",q:"models/queen.json",k:"models/king.json",b:"models/bishop.json",r:"models/rook.json"};var W=function(e,t){var n={p:100,n:350,b:350,r:525,q:1e3,k:1e4},i=0;return e.forEach((function(e){e.forEach((function(e){e&&(i+=n[e.type]*(e.color===t?1:-1))}))})),i},S=function e(t,n,i){var s,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NEGATIVE_INFINITY,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.POSITIVE_INFINITY,r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(0===t)return[s=W(n.board(),i),null];var l=null,c=n.moves();c.sort((function(e,t){return.5-Math.random()}));for(var h=r?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,u=0;u<c.length;u++){var d=c[u];if(n.move(d),s=e(t-1,n,i,a,o,!r)[0],r?(s>h&&(h=s,l=d),a=Math.max(a,s)):(s<h&&(h=s,l=d),o=Math.min(o,s)),n.undo(),o<=a)break}return[h,l||c[0]]},q=T,R=(n(38),function(){return s.a.createElement("div",{id:"index"},s.a.createElement("div",{className:"main"},s.a.createElement("div",null,s.a.createElement("h1",null,"Take your chess game to the next level"),s.a.createElement("p",null,"Connect with top ranked chess players from around the world and learn the secrets to becoming a chess master."),s.a.createElement(f,null,"Become A Master"))),s.a.createElement("div",{className:"chess"},s.a.createElement(q,null)),s.a.createElement("div",{className:"bg"},s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null)))});var L=function(){return s.a.createElement("div",{id:"App"},s.a.createElement(r.a,null,s.a.createElement(O,null),s.a.createElement("div",{id:"content"},s.a.createElement("div",{className:"inner"},s.a.createElement("div",null,s.a.createElement(l.c,null,s.a.createElement(l.a,{path:"/",exact:!0,component:R})))))))};o.a.render(s.a.createElement(L,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.820e6392.chunk.js.map